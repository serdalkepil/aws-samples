
# install helm 

curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash
helm version
helm repo list

# aws eks team public repo
helm repo add eks https://aws.github.io/eks-charts

# find the package
helm search repo eks fluent

# install the fluent-bit
helm install aws-for-fluent-bit --namespace kube-system eks/aws-for-fluent-bit

# check pods
kubectl get pods -n kube-system

# check daemonset
kubectl get daemonset -n kube-system

# upgrade the deployment
helm upgrade aws-for-fluent-bit -n kube-system eks/aws-for-fluent-bit 

# rollback with dry-run
helm rollback aws-for-fluent-bit 1 -n kube-system --dry-run 

# rollback without dry-run
helm rollback aws-for-fluent-bit 1 -n kube-system

# create your helm chart 
helm create my-app

# check the files and delete templates folder content 
cd my-app/templates
rm -rf *

# under my-app directory, try to install my-app chart
helm install --debug --dry-run myreleasedapp .

# after the error try with a different option 
helm install --debug --dry-run myreleasedapp2 .

# open templates/deployment.yaml
# change name value with the release name placeholder

metadata:
  name: {{ .Release.Name }}

# now it will put the release name here

helm install --debug --dry-run myreleasedapp .

helm install myreleasedapp .

kubectl get deploy

helm ls

helm install --debug --dry-run myreleasedapp .